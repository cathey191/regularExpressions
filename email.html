<!DOCTYPE html>
<html lang="en" dir="ltr">
	<head>
		<meta charset="utf-8">
		<title>Regular Expressions</title>
	</head>
	<body>
		<form action="" method="post" onsubmit="return validate(this)">
			<label for="username">Username:</label>
			<input type="text" name="username"><br><br>
			<label for="password" >Password:</label>
			<input type="password" name="pwd1"><br><br>
			<label for="password" >Confrim Password:</label>
			<input type="password" name="pwd2"><br><br>
			<input type="submit" name="submit" value="Submit">
		</form>


		<script type="text/javascript">
		function validate(form) {
	if (form.username === '') {
		console.log('Error: Username cannot be blank!');
		form.username.focus();
		return false;
	}
	// console.log(form.username.value);

	re = /^\w+$/;
	// checks f username is in the pattern
	if (!re.test(form.username.value)) {
		console.log(
			'Error: Username can only contain letters, numbers and underscore'
		); // don't log or display this in real world
		form.username.focus();
		return false;
	}

	// checks password is present and matches
	if (form.pwd1.value != '' && form.pwd1.value === form.pwd2.value) {
		if (form.pwd1.value.length < 6) {
			console.log('Error: password must contain atleast 6 characters');
			form.pwd1.focus();
			return false;
		}
		if (form.pwd1.value == form.username.value) {
			console.log('Error: Username and password cannot be the same');
			form.pwd1.focus();
			return false;
		}
		re = /[a-z]/;
		if (!re.test(form.pwd1.value)) {
			console.log('Error: Password should contain atleast one lowercase');
			form.pwd1.focus();
			return false;
		}
		re = /[A-Z]/;
		if (!re.test(form.pwd1.value)) {
			console.log('Error: Password should contain atleast one uppercase');
			form.pwd1.focus();
			return false;
		}
		re = /[0-9]/;
		if (!re.test(form.pwd1.value)) {
			console.log('Error: Password should contain atleast one number');
			form.pwd1.focus();
			return false;
		}
	} else {
		console.log(
			'Error: please check if you have entered and confirmed your password'
		);
		return false;
	}
	console.log('You have entered a valid password');
	return true;
}
</script>
	</body>
</html>
